@using ProyectoFinalDiseño.Models
@using ProyectoFinalDiseño.Models.invoice
@using ProyectoFinalDiseño.Models.subscription
@model Invoice

@{
    ViewData["Title"] = "Edit Invoice";
}

<h2>Edit Invoice</h2>

@if (TempData["Message"] != null)
{
    <div class="alert alert-success">@TempData["Message"]</div>
}

<form asp-action="Edit" method="post">

    <input type="hidden" name="Id" value="@Model.Id" />

    <div class="form-group">
        <label for="User">User</label>
        <input type="text" class="form-control" id="User" value="@Model.User?.UserName (@Model.User?.Email)" readonly />
    </div>

    <div class="form-group">
        <label for="BillingDate">Billing Date</label>
        <input type="date" class="form-control" id="BillingDate" name="BillingDate" value="@Model.BillingDate.ToString("yyyy-MM-dd")" readonly />
    </div>

    <div class="form-group">
        <label for="PeriodStart">Period Start</label>
        <input type="date" class="form-control" id="PeriodStart" name="PeriodStart" value="@Model.PeriodStart.ToString("yyyy-MM-dd")" readonly />
    </div>

    <div class="form-group">
        <label for="PeriodEnd">Period End</label>
        <input type="date" class="form-control" id="PeriodEnd" name="PeriodEnd" value="@Model.PeriodEnd.ToString("yyyy-MM-dd")" readonly />
    </div>

    <div class="form-group">
        <label for="Amount">Amount</label>
        <input type="number" step="0.01" class="form-control" id="Amount" name="Amount" value="@Model.Amount.ToString("F2")" required />

    </div>

    <div class="form-group">
        <label for="IsPaid">Paid Status</label>
        <input type="hidden" name="IsPaid" value="false" />
        <input type="checkbox" class="form-check-input" id="IsPaid" name="IsPaid" @(Model.IsPaid ? "checked" : "") />
        <span class="form-text">Mark as Paid</span>
    </div>

    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a asp-action="Details" asp-route-id="@Model.Id" class="btn btn-secondary">Cancel</a>
</form>
